import{b as F,e as B,h as $,i as N,j as J,l as Y}from"./chunk-TGRUN4F4.js";import{Aa as h,Ca as x,Ea as i,Fa as t,Ga as w,Ha as P,Ia as _,Ja as p,L as E,La as n,Ma as g,Na as m,Pa as S,Q as C,Qa as f,Ra as b,Ta as T,U as M,Xa as d,Za as s,aa as v,ba as y,ob as I,pa as a,pb as D,qa as R,rb as O,sb as k,wb as V}from"./chunk-AF7HNTUN.js";var j=(()=>{class r{constructor(e){this.http=e,this.apiUrl="/api/reports"}getPayrollSummary(e,o){return this.http.get(`${this.apiUrl}/payroll-summary`,{params:{month:e,year:o}})}generatePayslip(e){return this.http.get(`${this.apiUrl}/payslip/${e}`)}getTaxReport(e){return this.http.get(`${this.apiUrl}/tax-report`,{params:{year:e}})}exportReport(e,o){return this.http.post(`${this.apiUrl}/export/${e}`,o,{responseType:"blob"})}static{this.\u0275fac=function(o){return new(o||r)(C(V))}}static{this.\u0275prov=E({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function A(r,c){r&1&&(i(0,"tr")(1,"td",38),n(2,"No data available"),t()())}function U(r,c){if(r&1&&(i(0,"tr")(1,"td")(2,"strong"),n(3),t()(),i(4,"td"),n(5),t(),i(6,"td"),n(7),t(),i(8,"td"),n(9),d(10,"number"),t(),i(11,"td"),n(12),d(13,"number"),t(),i(14,"td"),n(15),t()()),r&2){let e=c.$implicit;a(3),g(e.employee_name),a(2),g(e.department),a(2),g(e.position),a(2),m("$",s(10,6,e.gross_pay,"1.2-2"),""),a(3),m("$",s(13,9,e.net_pay,"1.2-2"),""),a(3),g(e.pay_period)}}function G(r,c){if(r&1&&(i(0,"tfoot")(1,"tr",39)(2,"td",40),n(3,"Total"),t(),i(4,"td"),n(5),d(6,"number"),t(),i(7,"td"),n(8),d(9,"number"),t(),w(10,"td"),t()()),r&2){let e=p(3);a(5),m("$",s(6,2,e.getTotalGross(),"1.2-2"),""),a(3),m("$",s(9,5,e.getTotalNet(),"1.2-2"),"")}}function L(r,c){if(r&1&&(i(0,"table",35)(1,"thead")(2,"tr")(3,"th"),n(4,"Employee"),t(),i(5,"th"),n(6,"Department"),t(),i(7,"th"),n(8,"Position"),t(),i(9,"th"),n(10,"Gross Pay"),t(),i(11,"th"),n(12,"Net Pay"),t(),i(13,"th"),n(14,"Pay Period"),t()()(),i(15,"tbody"),h(16,A,3,0,"tr",36)(17,U,16,12,"tr",37),t(),h(18,G,11,8,"tfoot",36),t()),r&2){let e=p(2);a(16),x("ngIf",e.reportData.length===0),a(),x("ngForOf",e.reportData),a(),x("ngIf",e.reportData.length>0)}}function H(r,c){if(r&1&&(i(0,"div",43)(1,"h4"),n(2),t(),i(3,"p",2),n(4),t(),i(5,"div",44)(6,"span"),n(7,"Net Pay:"),t(),i(8,"strong"),n(9),d(10,"number"),t()(),i(11,"button",45),n(12," \u{1F4C4} View Details "),t()()),r&2){let e=c.$implicit;a(2),g(e.employee_name),a(2),g(e.period),a(5),m("$",s(10,3,e.net_pay,"1.2-2"),"")}}function q(r,c){if(r&1&&(i(0,"div",41),h(1,H,13,6,"div",42),t()),r&2){let e=p(2);a(),x("ngForOf",e.payslips)}}function K(r,c){if(r&1&&(i(0,"div",46)(1,"div",47)(2,"div",48)(3,"h4"),n(4,"Total Tax Collected"),t(),i(5,"p",49),n(6),d(7,"number"),t()(),i(8,"div",48)(9,"h4"),n(10,"Income Tax"),t(),i(11,"p",49),n(12),d(13,"number"),t()(),i(14,"div",48)(15,"h4"),n(16,"Social Security"),t(),i(17,"p",49),n(18),d(19,"number"),t()(),i(20,"div",48)(21,"h4"),n(22,"Other Deductions"),t(),i(23,"p",49),n(24),d(25,"number"),t()()()()),r&2){let e=p(2);a(6),m("$",s(7,4,e.taxSummary.total,"1.2-2"),""),a(6),m("$",s(13,7,e.taxSummary.income,"1.2-2"),""),a(6),m("$",s(19,10,e.taxSummary.social,"1.2-2"),""),a(6),m("$",s(25,13,e.taxSummary.other,"1.2-2"),"")}}function Q(r,c){if(r&1){let e=P();i(0,"div",8)(1,"div",9)(2,"div",10)(3,"h3",11),n(4),t(),i(5,"div",12)(6,"select",13),b("ngModelChange",function(l){v(e);let u=p();return f(u.selectedMonth,l)||(u.selectedMonth=l),y(l)}),_("change",function(){v(e);let l=p();return y(l.loadReport())}),i(7,"option",14),n(8,"January"),t(),i(9,"option",15),n(10,"February"),t(),i(11,"option",16),n(12,"March"),t(),i(13,"option",17),n(14,"April"),t(),i(15,"option",18),n(16,"May"),t(),i(17,"option",19),n(18,"June"),t(),i(19,"option",20),n(20,"July"),t(),i(21,"option",21),n(22,"August"),t(),i(23,"option",22),n(24,"September"),t(),i(25,"option",23),n(26,"October"),t(),i(27,"option",24),n(28,"November"),t(),i(29,"option",25),n(30,"December"),t()(),i(31,"select",26),b("ngModelChange",function(l){v(e);let u=p();return f(u.selectedYear,l)||(u.selectedYear=l),y(l)}),_("change",function(){v(e);let l=p();return y(l.loadReport())}),i(32,"option",27),n(33,"2024"),t(),i(34,"option",28),n(35,"2025"),t(),i(36,"option",29),n(37,"2026"),t()(),i(38,"button",30),_("click",function(){v(e);let l=p();return y(l.exportReport())}),n(39," \u{1F4E5} Export "),t()()()(),i(40,"div",31),h(41,L,19,3,"table",32)(42,q,2,1,"div",33)(43,K,26,16,"div",34),t()()}if(r&2){let e=p();a(4),g(e.reportTitle),a(2),S("ngModel",e.selectedMonth),a(25),S("ngModel",e.selectedYear),a(10),x("ngIf",e.activeReport==="payroll"),a(),x("ngIf",e.activeReport==="payslips"),a(),x("ngIf",e.activeReport==="tax")}}var ne=(()=>{class r{constructor(e){this.reportService=e,this.activeReport=null,this.reportTitle="",this.selectedMonth="01",this.selectedYear="2026",this.reportData=[],this.payslips=[],this.taxSummary={total:0,income:0,social:0,other:0}}ngOnInit(){let e=new Date;this.selectedMonth=String(e.getMonth()+1).padStart(2,"0"),this.selectedYear=String(e.getFullYear())}showPayrollSummary(){this.activeReport="payroll",this.reportTitle="Payroll Summary Report",this.loadReport()}showPayslips(){this.activeReport="payslips",this.reportTitle="Employee Payslips",this.loadPayslips()}showTaxReport(){this.activeReport="tax",this.reportTitle="Tax Deductions Report",this.loadTaxReport()}loadReport(){this.activeReport==="payroll"&&this.reportService.getPayrollSummary(this.selectedMonth,this.selectedYear).subscribe({next:e=>this.reportData=e,error:e=>console.error("Error loading report:",e)})}loadPayslips(){this.payslips=[{employee_name:"John Doe",period:"Jan 2026",net_pay:4500},{employee_name:"Jane Smith",period:"Jan 2026",net_pay:5200},{employee_name:"Bob Johnson",period:"Jan 2026",net_pay:3800}]}loadTaxReport(){this.reportService.getTaxReport(this.selectedYear).subscribe({next:e=>{this.taxSummary=e},error:e=>{console.error("Error loading tax report:",e),this.taxSummary={total:45e3,income:25e3,social:15e3,other:5e3}}})}getTotalGross(){return this.reportData.reduce((e,o)=>e+o.gross_pay,0)}getTotalNet(){return this.reportData.reduce((e,o)=>e+o.net_pay,0)}exportReport(){alert("Export functionality would download the report as PDF/Excel")}static{this.\u0275fac=function(o){return new(o||r)(R(j))}}static{this.\u0275cmp=M({type:r,selectors:[["app-reports"]],standalone:!0,features:[T],decls:35,vars:1,consts:[[1,"container"],[1,"page-header"],[1,"text-muted"],[1,"grid","grid-3","mb-4"],[1,"report-card"],[1,"report-icon"],[1,"btn","btn-primary","btn-sm",3,"click"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"flex","justify-between","align-center"],[1,"card-title"],[1,"flex","gap-sm"],[1,"form-control",2,"width","150px",3,"ngModelChange","change","ngModel"],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],[1,"form-control",2,"width","120px",3,"ngModelChange","change","ngModel"],["value","2024"],["value","2025"],["value","2026"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"table-container"],["class","table",4,"ngIf"],["class","payslip-grid",4,"ngIf"],["class","tax-summary",4,"ngIf"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-center","text-muted"],[2,"background","var(--bg-tertiary)","font-weight","600","color","var(--text-primary)"],["colspan","3"],[1,"payslip-grid"],["class","payslip-card",4,"ngFor","ngForOf"],[1,"payslip-card"],[1,"payslip-amount"],[1,"btn","btn-secondary","btn-sm"],[1,"tax-summary"],[1,"summary-grid"],[1,"summary-card"],[1,"amount"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Reports"),t(),i(4,"p",2),n(5,"Generate and view payroll reports"),t()(),i(6,"div",3)(7,"div",4)(8,"div",5),n(9,"\u{1F4CA}"),t(),i(10,"h3"),n(11,"Payroll Summary"),t(),i(12,"p"),n(13,"Monthly payroll overview"),t(),i(14,"button",6),_("click",function(){return l.showPayrollSummary()}),n(15," View Report "),t()(),i(16,"div",4)(17,"div",5),n(18,"\u{1F4C4}"),t(),i(19,"h3"),n(20,"Payslips"),t(),i(21,"p"),n(22,"Individual employee payslips"),t(),i(23,"button",6),_("click",function(){return l.showPayslips()}),n(24," View Report "),t()(),i(25,"div",4)(26,"div",5),n(27,"\u{1F4BC}"),t(),i(28,"h3"),n(29,"Tax Report"),t(),i(30,"p"),n(31,"Annual tax deductions"),t(),i(32,"button",6),_("click",function(){return l.showTaxReport()}),n(33," View Report "),t()()(),h(34,Q,44,6,"div",7),t()),o&2&&(a(34),x("ngIf",l.activeReport))},dependencies:[k,I,D,O,Y,N,J,$,F,B],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.report-card[_ngcontent-%COMP%]{background:var(--surface);border-radius:var(--radius-lg);padding:2rem;text-align:center;box-shadow:var(--shadow-md);border:1px solid rgba(0,0,0,.05);transition:all var(--transition-normal)}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl);border-color:var(--primary-color)}.report-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.report-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem;color:var(--text-primary)}.report-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--text-muted);font-size:.9rem}.payslip-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem;padding:1rem}.payslip-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:var(--radius-md);padding:1.5rem;border:1px solid rgba(0,0,0,.1)}.payslip-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.5rem;color:var(--text-primary)}.payslip-amount[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1rem 0;padding:.75rem;background:var(--surface);border-radius:var(--radius-sm)}.payslip-amount[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--success);font-size:1.2rem}.tax-summary[_ngcontent-%COMP%]{padding:2rem}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem}.summary-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border-radius:var(--radius-lg);padding:2rem;text-align:center;border:1px solid rgba(0,0,0,.1)}.summary-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;letter-spacing:.05em}.summary-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:var(--primary-color);margin:0}"]})}}return r})();export{ne as ReportsComponent};
