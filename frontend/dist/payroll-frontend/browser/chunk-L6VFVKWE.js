import{e as k}from"./chunk-3ZPFXBA2.js";import{a as z}from"./chunk-JA43OOZB.js";import{a as V,b as W,e as j,l as B}from"./chunk-TGRUN4F4.js";import{Aa as _,Ca as m,Ea as t,Fa as n,Ha as x,Ia as u,Ja as y,La as i,Ma as s,Na as S,Oa as b,Pa as C,Qa as v,Ra as D,Ta as M,U as g,Ua as w,Va as P,Xa as L,Za as F,aa as h,ba as E,nb as N,ob as I,pa as l,pb as O,qa as f,rb as T,sb as A}from"./chunk-AF7HNTUN.js";var R=(r,p)=>({"badge-success":r,"badge-danger":p}),$=r=>["/employees/edit",r];function q(r,p){r&1&&(t(0,"tr")(1,"td",11),i(2," No employees found "),n()())}function G(r,p){if(r&1){let e=x();t(0,"tr")(1,"td")(2,"strong"),i(3),n()(),t(4,"td"),i(5),n(),t(6,"td"),i(7),n(),t(8,"td"),i(9),n(),t(10,"td"),i(11),n(),t(12,"td"),i(13),L(14,"number"),n(),t(15,"td")(16,"span",12),i(17),n()(),t(18,"td")(19,"div",13)(20,"a",14),i(21," \u270F\uFE0F Edit "),n(),t(22,"button",15),u("click",function(){let a=h(e).$implicit,d=y();return E(d.deleteEmployee(a.employee_id))}),i(23," \u{1F5D1}\uFE0F Delete "),n()()()()}if(r&2){let e=p.$implicit,o=y();l(3),b("",e.first_name," ",e.last_name,""),l(2),s(e.email),l(2),s(e.phone||"N/A"),l(2),s(o.getDepartmentName(e.department_id)),l(2),s(o.getPositionName(e.position_id)),l(2),S("$",F(14,10,e.salary,"1.2-2"),""),l(3),m("ngClass",P(13,R,e.status==="active",e.status==="inactive")),l(),s(e.status),l(3),m("routerLink",w(16,$,e.employee_id))}}var Z=(()=>{class r{constructor(e){this.employeeService=e,this.employees=[],this.filteredEmployees=[],this.departments=[],this.positions=[],this.searchTerm=""}ngOnInit(){this.loadEmployees(),this.loadDepartments(),this.loadPositions()}loadEmployees(){this.employeeService.getAllEmployees().subscribe({next:e=>{this.employees=e,this.filteredEmployees=e},error:e=>console.error("Error loading employees:",e)})}loadDepartments(){this.employeeService.getDepartments().subscribe({next:e=>this.departments=e,error:e=>console.error("Error loading departments:",e)})}loadPositions(){this.employeeService.getPositions().subscribe({next:e=>this.positions=e,error:e=>console.error("Error loading positions:",e)})}filterEmployees(){let e=this.searchTerm.toLowerCase();this.filteredEmployees=this.employees.filter(o=>o.first_name.toLowerCase().includes(e)||o.last_name.toLowerCase().includes(e)||o.email.toLowerCase().includes(e))}getDepartmentName(e){let o=this.departments.find(a=>a.department_id===e);return o?o.department_name:"N/A"}getPositionName(e){let o=this.positions.find(a=>a.position_id===e);return o?o.position_name:"N/A"}deleteEmployee(e){confirm("Are you sure you want to delete this employee?")&&this.employeeService.deleteEmployee(e).subscribe({next:()=>{this.loadEmployees(),alert("Employee deleted successfully")},error:o=>{console.error("Error deleting employee:",o),alert("Failed to delete employee")}})}static{this.\u0275fac=function(o){return new(o||r)(f(z))}}static{this.\u0275cmp=g({type:r,selectors:[["app-employee-list"]],standalone:!0,features:[M],decls:35,vars:3,consts:[[1,"container"],[1,"page-header"],[1,"text-muted"],["routerLink","/employees/new",1,"btn","btn-primary"],[1,"card"],[1,"card-header"],["type","text","placeholder","\u{1F50D} Search employees...",1,"form-control",2,"max-width","400px",3,"ngModelChange","input","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-center","text-muted"],[1,"badge",3,"ngClass"],[1,"action-buttons"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(o,a){o&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),i(4,"Employees"),n(),t(5,"p",2),i(6,"Manage your employee records"),n()(),t(7,"a",3),i(8," \u2795 Add Employee "),n()(),t(9,"div",4)(10,"div",5)(11,"input",6),D("ngModelChange",function(c){return v(a.searchTerm,c)||(a.searchTerm=c),c}),u("input",function(){return a.filterEmployees()}),n()(),t(12,"div",7)(13,"table",8)(14,"thead")(15,"tr")(16,"th"),i(17,"Name"),n(),t(18,"th"),i(19,"Email"),n(),t(20,"th"),i(21,"Phone"),n(),t(22,"th"),i(23,"Department"),n(),t(24,"th"),i(25,"Position"),n(),t(26,"th"),i(27,"Salary"),n(),t(28,"th"),i(29,"Status"),n(),t(30,"th"),i(31,"Actions"),n()()(),t(32,"tbody"),_(33,q,3,0,"tr",9)(34,G,24,18,"tr",10),n()()()()()),o&2&&(l(11),C("ngModel",a.searchTerm),l(22),m("ngIf",a.filteredEmployees.length===0),l(),m("ngForOf",a.filteredEmployees))},dependencies:[A,N,I,O,T,k,B,V,W,j],styles:[".page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-sm[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.85rem}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return r})();export{Z as EmployeeListComponent};
